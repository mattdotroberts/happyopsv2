---
const clients = [
  { name: 'Sidekick Studios', domain: 'sidekickstudios.co' },
  { name: 'Salience', domain: 'salience.co.uk' },
  { name: 'Funktion Events', domain: 'funktionevents.co.uk' },
  { name: 'WYK Digital', domain: 'wykdigital.com' },
  { name: 'IMM', domain: 'imm.com' },
  { name: 'Boost Pro', domain: 'boostprolt.com' },
  { name: 'JamesEdition', domain: 'jamesedition.com' },
];

const brandfetchClientId =
  import.meta.env.BRANDFETCH_CLIENT_ID || '';

const getLogoUrl = (domain: string) =>
  brandfetchClientId
    ? `https://cdn.brandfetch.io/${domain}/theme/dark/logo?c=${brandfetchClientId}`
    : `https://cdn.brandfetch.io/${domain}/logo`;
---

<section class="container section client-logos">
  <p class="client-logos__label reveal">Trusted by successful teams at</p>
  <div class="client-logos__grid reveal">
    {clients.map((client) => (
      <div class="client-logos__item" aria-label={client.name}>
        <img
          src={getLogoUrl(client.domain)}
          alt={`${client.name} logo`}
          loading="lazy"
          decoding="async"
        />
      </div>
    ))}
  </div>
</section>

<style>
  .section {
    padding: var(--space-3xl) 0;
  }

  .client-logos {
    text-align: center;
  }

  .client-logos__label {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    margin-bottom: var(--space-xl);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
    font-family: var(--font-mono);
  }

  .client-logos__grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--space-lg);
    align-items: center;
    justify-items: center;
  }

  .client-logos__item {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-sm);
    min-height: 48px;
  }

  .client-logos__item img {
    max-width: 100px;
    max-height: 32px;
    width: auto;
    height: auto;
    filter: grayscale(100%);
    opacity: 0.6;
    transition: opacity var(--transition-fast), filter var(--transition-fast);
  }

  .client-logos__item img:hover {
    filter: grayscale(0%);
    opacity: 1;
  }

  /* Dark mode: invert logos so they're visible on dark background */
  [data-theme='dark'] .client-logos__item img {
    filter: grayscale(100%) invert(1) brightness(1.5);
    opacity: 0.7;
  }

  [data-theme='dark'] .client-logos__item img:hover {
    filter: invert(1) brightness(1.5);
    opacity: 1;
  }

  @media (max-width: 1024px) {
    .client-logos__grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  @media (max-width: 640px) {
    .client-logos__grid {
      grid-template-columns: repeat(3, 1fr);
    }

    .client-logos__item img {
      max-width: 80px;
      max-height: 28px;
    }
  }
</style>
